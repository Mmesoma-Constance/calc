<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="../public/output.css" />

    <style>
      #calc {
        background: #b2b15f;
      }

      .shadowBtn {
        background-color: #333;
        /* width: 40px;
        height: 60px; */
        /* border: 1px solid #ccc; */
        border: none;
        border-radius: 5px;
        padding: 10px;
        text-align: center;
        cursor: pointer;

        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3),
          0px -2px 4px rgba(255, 255, 255, 0.2);
        inset: 0px 1px 2px rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>

  <body class="bg-black text-white">
    <h1 class="text-2xl py-2 mx-5">My Calculator</h1>
    <div class="mx-5 overflow-hidden h-[100vh]">
      <div
        class="my-4 w-full p-7 text-black rounded-xl text-2xl font-bold text-right self-end"
        id="calc"
      ></div>

      <div class="flex flex-col justify-center items-center self-start mx-auto">
        <div class="p-2 space-x-1 text-4xl flex flex-row gap-6 justify-start">
          <button
            onclick="calculate('7')"
            onkeyup="eventClick('7')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            7
          </button>

          <button
            onclick="calculate('8')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            8
          </button>

          <button
            onclick="calculate('9')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            9
          </button>

          <button
            onclick="calculate('*')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            *
          </button>

          <button
            onclick="calculate('/')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            /
          </button>
        </div>

        <div class="p-2 space-x-1 text-4xl flex flex-row gap-6 justify-start">
          <button
            onclick="calculate('4')"
            onkeyup="eventClick('4')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            4
          </button>

          <button
            onclick="calculate('5')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            5
          </button>

          <button
            onclick="calculate('6')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            6
          </button>
          <button
            onclick="calculate('-')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            -
          </button>
          <button
            onclick="calculate('x')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
            id="erase"
          >
            X
          </button>
        </div>
        <div class="p-2 space-x-1 text-4xl flex flex-row gap-6 justify-start">
          <button
            onclick="calculate('1')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            1
          </button>

          <button
            onclick="calculate('2')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            2
          </button>

          <button
            onclick="calculate('3') "
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            3
          </button>
          <button
            onclick=" calculate('+')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            +
          </button>
        </div>

        <div class="p-2 space-x-1 text-4xl flex flex-row gap-6 justify-start">
          <button
            onclick="calculate('0')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            0
          </button>

          <button
            onclick="calculate('.')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            .
          </button>

          <button
            onclick=" calculate('ev')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            =
          </button>

          <button
            onclick="calculate('')"
            class="border-2 border-black p-2 hover:bg-black hover:text-white shadowBtn"
          >
            Clear
          </button>
        </div>
      </div>
    </div>

    <script>
      let calculation = JSON.parse(localStorage.getItem("calculated")) || 0;
      document.getElementById("calc").innerHTML = calculation;
      calculation = "";
      // console.log(calculation);

      function calculate(numValue) {
        if (numValue === "") {
          calculation = "";
          console.log("0");
          // console.log(calculation);
          document.getElementById("calc").innerHTML = 0;
        } else if (numValue === "ev") {
          eval(calculation);
          calculation = eval(calculation);
          // console.log(calculation);

          document.getElementById("calc").innerHTML = calculation;

          localStorage.setItem("calculated", JSON.stringify(calculation));
          calculation = "";
          // console.log(calculation);
        } else if (numValue === ".") {
          calculation += ".";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "0") {
          calculation += "0";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "+") {
          calculation += " + ";
          console.log("+");
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "3") {
          calculation += "3";
          document.getElementById("calc").innerHTML = calculation;

          // console.log(calculation);
        } else if (numValue === "2") {
          calculation += "2";
          document.getElementById("calc").innerHTML = calculation;

          // console.log(calculation);
        } else if (numValue === "1") {
          calculation += "1";
          document.getElementById("calc").innerHTML = calculation;

          // console.log(calculation);
        } else if (numValue === "-") {
          calculation += " - ";
          // console.log("-");
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "6") {
          calculation += "6";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "5") {
          calculation += "5";
          document.getElementById("calc").innerHTML = calculation;

          // console.log(calculation);
        } else if (numValue === "4") {
          calculation += "4";
          document.getElementById("calc").innerHTML = calculation;

          // console.log(calculation);
        } else if (numValue === "/") {
          calculation += " / ";
          console.log("/");
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "*") {
          calculation += " * ";
          console.log("*");
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "9") {
          calculation += "9";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "8") {
          calculation += "8";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        } else if (numValue === "7") {
          calculation += "7";
          // console.log(calculation);
          document.getElementById("calc").innerHTML = calculation;
        }
      }

      document.getElementById("erase").addEventListener("click", () => {
        if (calculation !== "0") {
          if (calculation.length > 1) {
            document.getElementById("calc").innerHTML = calculation.slice(
              0,
              -1
            );
          } else {
            document.getElementById("calc").innerHTML = "0"; // Reset to '0' if last character is deleted
          }
          console.log(calculation.length);
        }
      });

      // function eventClick(event) {
      //   console.log(calculation);
      //   document.getElementById("calc").innerHTML = calculation += "4";
      // }
    </script>
  </body>
</html>
